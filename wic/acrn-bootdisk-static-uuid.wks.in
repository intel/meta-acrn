# short-description: Create an EFI disk image with acrn and grub-efi having static UUIDs
# long-description: Creates a partitioned EFI disk image having acrn-hypervisor with static UUIDs
# to support secure boot out of the box.

part /boot --source acrn-bootimg-efi --sourceparams="initrd=microcode.cpio" --ondisk sda --active --align 1024  --use-uuid --fsuuid=0x${BOOT_PARTITION_FSUUID}

part / --source rootfs --ondisk sda --fstype=ext4 --label platform --align 1024 --uuid ${DISK_SIGNATURE_UUID}

part swap --ondisk sda --size 44 --label swap1 --fstype=swap --use-uuid

bootloader --ptable gpt --timeout=5 --append=" rootfstype=ext4 "
